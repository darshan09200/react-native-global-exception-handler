"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[860],{7020:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"migration/migration","title":"Migrating from react-native-exception-handler","description":"This guide helps you migrate from the original react-native-exception-handler package to react-native-global-exception-handler.","source":"@site/docs/migration/migration.md","sourceDirName":"migration","slug":"/migration/","permalink":"/react-native-global-exception-handler/docs/migration/","draft":false,"unlisted":false,"editUrl":"https://github.com/darshan09200/react-native-global-exception-handler/tree/main/website/docs/migration/migration.md","tags":[],"version":"current","frontMatter":{"id":"migration","title":"Migrating from react-native-exception-handler"},"sidebar":"docSidebar","previous":{"title":"Analytics Integration","permalink":"/react-native-global-exception-handler/docs/examples/analytics-integration"},"next":{"title":"API Reference","permalink":"/react-native-global-exception-handler/docs/api"}}');var t=i(4848),l=i(8453);const a={id:"migration",title:"Migrating from react-native-exception-handler"},s=void 0,o={},c=[{value:"Overview",id:"overview",level:2},{value:"What Was Ported",id:"what-was-ported",level:2},{value:"What&#39;s New",id:"whats-new",level:2},{value:"Legacy Native API (Still Supported)",id:"legacy-native-api-still-supported",level:2},{value:"Why Migrate?",id:"why-migrate",level:2},{value:"Migration Steps",id:"migration-steps",level:2},{value:"FAQ",id:"faq",level:2},{value:"Do I need to change my existing JS exception handler?",id:"do-i-need-to-change-my-existing-js-exception-handler",level:3},{value:"Is the old native positional API removed?",id:"is-the-old-native-positional-api-removed",level:3},{value:"How do I chain other SDK handlers?",id:"how-do-i-chain-other-sdk-handlers",level:3},{value:"When should I set <code>forceAppToQuit: false</code>?",id:"when-should-i-set-forceapptoquit-false",level:3},{value:"Cross-References",id:"cross-references",level:2},{value:"Credits",id:"credits",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["This guide helps you migrate from the original ",(0,t.jsx)(n.code,{children:"react-native-exception-handler"})," package to ",(0,t.jsx)(n.code,{children:"react-native-global-exception-handler"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The newer library preserves the core concepts (global JS & native exception handling) while improving clarity, adding TypeScript types, and modernizing the native API."}),"\n",(0,t.jsx)(n.h2,{id:"what-was-ported",children:"What Was Ported"}),"\n",(0,t.jsx)(n.p,{children:"The following concepts and behaviors remain the same, so existing mental models still apply:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Global JavaScript exception handling via a single setup call (",(0,t.jsx)(n.code,{children:"setJSExceptionHandler"}),")."]}),"\n",(0,t.jsx)(n.li,{children:"Native exception interception concept (ability to run a handler just before process termination)."}),"\n",(0,t.jsx)(n.li,{children:"Basic restart pattern for Android after fatal errors (using a restart utility or relaunch intent)."}),"\n",(0,t.jsx)(n.li,{children:"Ability (conceptually) to chain/execute previously defined handlers."}),"\n",(0,t.jsx)(n.li,{children:"Force-quit semantics on Android after a native crash to ensure clean state."}),"\n",(0,t.jsx)(n.li,{children:"Distinction between JS exceptions and native exceptions, including limitations of UI interaction after native crashes."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"whats-new",children:"What's New"}),"\n",(0,t.jsxs)(n.p,{children:["Enhancements and features introduced in ",(0,t.jsx)(n.code,{children:"react-native-global-exception-handler"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Options object for native handler: ",(0,t.jsx)(n.code,{children:"setNativeExceptionHandler(handler, { forceAppToQuit, callPreviouslyDefinedHandler })"})," replacing positional params."]}),"\n",(0,t.jsxs)(n.li,{children:["Full TypeScript surface: ",(0,t.jsx)(n.code,{children:"ExceptionHandlerOptions"}),", handler function types, ",(0,t.jsx)(n.code,{children:"CrashType"})," enum."]}),"\n",(0,t.jsxs)(n.li,{children:["Built-in native crash simulation via ",(0,t.jsx)(n.code,{children:"simulateNativeCrash(crashType)"})," for QA/testing."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"legacy-native-api-still-supported",children:"Legacy Native API (Still Supported)"}),"\n",(0,t.jsx)(n.p,{children:"If you previously used the positional signature, it still works but is deprecated:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Deprecated positional form\nsetNativeExceptionHandler(\n  (errorString) => { console.log(errorString); },\n  /* forceAppToQuit */ true,\n  /* callPreviouslyDefinedHandler */ false\n);\n\n// Recommended object form\nsetNativeExceptionHandler((errorString) => {\n  console.log(errorString);\n}, { forceAppToQuit: true, callPreviouslyDefinedHandler: false });\n"})}),"\n",(0,t.jsx)(n.h2,{id:"why-migrate",children:"Why Migrate?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Explicit defaults (",(0,t.jsx)(n.code,{children:"forceAppToQuit: true"}),", ",(0,t.jsx)(n.code,{children:"callPreviouslyDefinedHandler: false"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Improved readability and future-proof extensibility via options object"}),"\n",(0,t.jsx)(n.li,{children:"Full TypeScript support for safer integration"}),"\n",(0,t.jsx)(n.li,{children:"Clear platform behavior (dev vs production; iOS vs Android constraints)"}),"\n",(0,t.jsx)(n.li,{children:"API reference with all exported functions"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"migration-steps",children:"Migration Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Update dependency:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn remove react-native-exception-handler\nyarn add react-native-global-exception-handler\ncd ios && pod install\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Update imports:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Before\nimport { setJSExceptionHandler } from 'react-native-exception-handler';\n// After\nimport { setJSExceptionHandler } from 'react-native-global-exception-handler';\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Update native handler usage (if using legacy positional form):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Before\nsetNativeExceptionHandler(handler, true, false);\n// After\nsetNativeExceptionHandler(handler, { forceAppToQuit: true, callPreviouslyDefinedHandler: false });\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"executeDefaultHandler"})," naming with ",(0,t.jsx)(n.code,{children:"callPreviouslyDefinedHandler"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Add iOS crash flow if handling native exceptions: ensure you call ",(0,t.jsx)(n.code,{children:"releaseExceptionHold()"})," in custom native popup logic."]}),"\n",(0,t.jsxs)(n.li,{children:["Optional: Use ",(0,t.jsx)(n.code,{children:"getJSExceptionHandler()"})," to chain existing handlers when integrating analytics SDKs."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(n.h3,{id:"do-i-need-to-change-my-existing-js-exception-handler",children:"Do I need to change my existing JS exception handler?"}),"\n",(0,t.jsxs)(n.p,{children:["No. The signature is identical. Only the preferred naming (",(0,t.jsx)(n.code,{children:"allowedInDevMode"}),") is documented consistently."]}),"\n",(0,t.jsx)(n.h3,{id:"is-the-old-native-positional-api-removed",children:"Is the old native positional API removed?"}),"\n",(0,t.jsx)(n.p,{children:"No, it's still supported for backward compatibility, but new code should use the options object."}),"\n",(0,t.jsx)(n.h3,{id:"how-do-i-chain-other-sdk-handlers",children:"How do I chain other SDK handlers?"}),"\n",(0,t.jsx)(n.p,{children:"Use:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const prev = getJSExceptionHandler();\nsetJSExceptionHandler((e, fatal) => {\n  // custom logic\n  if (prev) prev(e, fatal);\n}, true);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For native handlers: ",(0,t.jsx)(n.code,{children:"{ callPreviouslyDefinedHandler: true }"}),"."]}),"\n",(0,t.jsxs)(n.h3,{id:"when-should-i-set-forceapptoquit-false",children:["When should I set ",(0,t.jsx)(n.code,{children:"forceAppToQuit: false"}),"?"]}),"\n",(0,t.jsxs)(n.p,{children:["Rare cases (navigation libraries or experimental recovery). Default ",(0,t.jsx)(n.code,{children:"true"})," is safer."]}),"\n",(0,t.jsx)(n.h2,{id:"cross-references",children:"Cross-References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/react-native-global-exception-handler/docs/usage/",children:"Usage Guide"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../api",children:"API Reference"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../usage/native-crash-handling",children:"Native Crash Handling"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../troubleshooting",children:"Troubleshooting"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"credits",children:"Credits"}),"\n",(0,t.jsx)(n.p,{children:"This library builds upon the excellent work done in the original project:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Original repository: ",(0,t.jsx)(n.a,{href:"https://github.com/a7ul/react-native-exception-handler",children:"react-native-exception-handler"})]}),"\n",(0,t.jsx)(n.li,{children:"Maintained and evolved by its original authors and broader community of contributors."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Their collective contributions informed many design decisions here (global handler patterns, restart flows, native popup customization concepts). If you find value in this library, consider visiting the original repository and showing support."}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"After migration, test:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"JS handler triggers in dev (if enabled) and production."}),"\n",(0,t.jsx)(n.li,{children:"Native handler triggers only in production."}),"\n",(0,t.jsx)(n.li,{children:"Crash reporting integration still works (e.g., Sentry/Crashlytics)."}),"\n",(0,t.jsx)(n.li,{children:"Optional chaining logic preserves previous handlers."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If all pass, migration is complete."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>s});var r=i(6540);const t={},l=r.createContext(t);function a(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);