"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[722],{6187:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"usage","title":"Usage","description":"JavaScript Exception Handling","source":"@site/docs/usage.md","sourceDirName":".","slug":"/usage","permalink":"/react-native-global-exception-handler/docs/usage","draft":false,"unlisted":false,"editUrl":"https://github.com/darshan09200/react-native-global-exception-handler/tree/main/website/docs/usage.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"usage","sidebar_position":3,"title":"Usage"},"sidebar":"docSidebar","previous":{"title":"Installation","permalink":"/react-native-global-exception-handler/docs/installation"},"next":{"title":"Native Crash Handling","permalink":"/react-native-global-exception-handler/docs/native-crash-handling"}}');var i=r(4848),a=r(8453);const o={id:"usage",sidebar_position:3,title:"Usage"},l=void 0,s={},c=[{value:"JavaScript Exception Handling",id:"javascript-exception-handling",level:2},{value:"Native Exception Handling",id:"native-exception-handling",level:2},{value:"Complete Setup Example",id:"complete-setup-example",level:2},{value:"Development vs Production",id:"development-vs-production",level:2},{value:"Getting the Current Handler",id:"getting-the-current-handler",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"javascript-exception-handling",children:"JavaScript Exception Handling"}),"\n",(0,i.jsxs)(n.p,{children:["Set up a global handler for JavaScript exceptions in your app's entry point (",(0,i.jsx)(n.code,{children:"index.js"})," or ",(0,i.jsx)(n.code,{children:"App.tsx"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { setJSExceptionHandler } from 'react-native-global-exception-handler';\n\nsetJSExceptionHandler((error, isFatal) => {\n  // Send to error monitoring service (e.g., Sentry, Bugsnag)\n  console.log('JS Exception:', error.message, 'Fatal:', isFatal);\n  \n  if (isFatal) {\n    // Show crash screen or force restart\n  }\n}, true); // true = enable in dev mode\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["First parameter: Handler function receiving ",(0,i.jsx)(n.code,{children:"(error: Error, isFatal: boolean)"})]}),"\n",(0,i.jsxs)(n.li,{children:["Second parameter: ",(0,i.jsx)(n.code,{children:"allowedInDevMode"})," - Set to ",(0,i.jsx)(n.code,{children:"true"})," to enable in development (default: ",(0,i.jsx)(n.code,{children:"false"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"native-exception-handling",children:"Native Exception Handling"}),"\n",(0,i.jsx)(n.p,{children:"Handle native crashes on iOS and Android:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { setNativeExceptionHandler } from 'react-native-global-exception-handler';\n\nawait setNativeExceptionHandler((errorString) => {\n  // errorString contains the native error message\n  console.log('Native Exception:', errorString);\n  \n  // Send to error monitoring\n}, {\n  forceAppToQuit: true,  // Android: Force app to quit after handling\n  callPreviouslyDefinedHandler: false  // Call previous handler (iOS/Android)\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Options:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"forceAppToQuit"})," (Android only): Force app to quit after handler runs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"callPreviouslyDefinedHandler"}),": Chain with previous native exception handler"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"complete-setup-example",children:"Complete Setup Example"}),"\n",(0,i.jsxs)(n.p,{children:["In your ",(0,i.jsx)(n.code,{children:"index.js"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { AppRegistry } from 'react-native';\nimport { \n  setJSExceptionHandler, \n  setNativeExceptionHandler \n} from 'react-native-global-exception-handler';\nimport App from './App';\nimport { name as appName } from './app.json';\n\n// JavaScript exception handler\nsetJSExceptionHandler((error, isFatal) => {\n  // Send to monitoring service\n  console.log('JS Error:', error, isFatal);\n}, true);\n\n// Native exception handler\nsetNativeExceptionHandler((errorString) => {\n  // Send to monitoring service\n  console.log('Native Error:', errorString);\n}, {\n  forceAppToQuit: true,\n  callPreviouslyDefinedHandler: false\n});\n\nAppRegistry.registerComponent(appName, () => App);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"development-vs-production",children:"Development vs Production"}),"\n",(0,i.jsx)(n.p,{children:"By default, JS exception handler only works in production builds. Enable in development:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Only in production (default)\nsetJSExceptionHandler(handler);\n\n// Also in development\nsetJSExceptionHandler(handler, true);\n\n// Or check manually\nconst isDev = __DEV__;\nsetJSExceptionHandler(handler, !isDev); // Only in production\n"})}),"\n",(0,i.jsx)(n.h2,{id:"getting-the-current-handler",children:"Getting the Current Handler"}),"\n",(0,i.jsx)(n.p,{children:"Retrieve the currently set JavaScript exception handler:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { getJSExceptionHandler } from 'react-native-global-exception-handler';\n\nconst currentHandler = getJSExceptionHandler();\n"})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var t=r(6540);const i={},a=t.createContext(i);function o(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);